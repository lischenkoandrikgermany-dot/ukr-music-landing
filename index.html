<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>–°–ª—É—Ö–∞—Ç–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫—É –º—É–∑–∏–∫—É –æ–Ω–ª–∞–π–Ω ‚Äî —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –ø—ñ—Å–Ω—ñ —Ç–∞ —Ö—ñ—Ç–∏</title>

  <!-- Canonical -->
  <link rel="canonical" href="https://ukr-hits.online/" />

  <!-- SEO -->
  <meta name="description" content="–£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ —Ö—ñ—Ç–∏, —Å—É—á–∞—Å–Ω—ñ –ø—ñ—Å–Ω—ñ 2025, –¥–æ–±—ñ—Ä–∫–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ—é, —Ç–∞–Ω—Ü—ñ–≤ —ñ –≤—ñ–¥–ø–æ—á–∏–Ω–∫—É. –°–∞–π—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ç—è–≥—É—î –æ—Å—Ç–∞–Ω–Ω—ñ –≤—ñ–¥–µ–æ –∑ –∫–∞–Ω–∞–ª—ñ–≤ GoldenWaveUA —Ç–∞ –ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤." />
  <meta name="keywords" content="—É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –ø—ñ—Å–Ω—ñ, —Å—É—á–∞—Å–Ω—ñ —Ö—ñ—Ç–∏, —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º—É–∑–∏–∫–∞ –æ–Ω–ª–∞–π–Ω, –Ω–æ–≤—ñ –ø—ñ—Å–Ω—ñ 2025, –¥–æ–±—ñ—Ä–∫–∏ –º—É–∑–∏–∫–∏, –ø–æ–ø—É–ª—è—Ä–Ω—ñ —Ç—Ä–µ–∫–∏" />
  <meta name="robots" content="index,follow" />

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="–°–ª—É—Ö–∞—Ç–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫—É –º—É–∑–∏–∫—É –æ–Ω–ª–∞–π–Ω ‚Äî —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –ø—ñ—Å–Ω—ñ —Ç–∞ —Ö—ñ—Ç–∏" />
  <meta property="og:description" content="–ù–∞–π–∫—Ä–∞—â–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º—É–∑–∏–∫–∞: –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–µ–æ, –¥–æ–±—ñ—Ä–∫–∏, —Å—É—á–∞—Å–Ω—ñ —Ö—ñ—Ç–∏ 2025." />
  <meta property="og:url" content="https://ukr-hits.online/" />
  <meta property="og:image" content="https://i.ytimg.com/vi/m27g1w60Hak/maxresdefault.jpg" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Preconnect / DNS Prefetch –¥–ª—è –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è -->
  <link rel="dns-prefetch" href="//i.ytimg.com">
  <link rel="dns-prefetch" href="//www.youtube.com">
  <link rel="preconnect" href="https://i.ytimg.com" crossorigin>
  <link rel="preconnect" href="https://www.youtube.com" crossorigin>

  <!-- Favicon (–æ–ø—Ü—ñ–π–Ω–æ –ø—ñ–¥—Å—Ç–∞–≤ —Å–≤—ñ–π) -->
  <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
  <meta name="theme-color" content="#0b0f14" />

  <style>
    :root{
      --bg:#0b0f14;
      --card:#111823;
      --card-2:#0f1520;
      --text:#dfe7f3;
      --muted:#9db0c5;
      --accent:#23ff6b;  /* —è—Å–∫—Ä–∞–≤–∞ —Å–∞–ª–∞—Ç–æ–≤–∞ –¥–ª—è —Ç–æ—á–∫–∏ */
      --accent-soft:#7cffae40;
      --chip:#1a2433;
      --chip-text:#cfe3fa;
      --shadow: 0 4px 18px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.02);
      --radius: 16px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    img{display:block;max-width:100%;height:auto}

    .wrap{max-width:1160px;margin:32px auto;padding:0 16px}
    header.hero{
      position:relative;
      padding:20px 20px 18px 20px;
      border-radius:var(--radius);
      background:linear-gradient(180deg, #101828, #0d1522 70%);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .hero h1{
      margin:0 0 8px;
      font-size:22px;
      font-weight:800;
      letter-spacing:.2px;
    }
    .hero .lead{
      margin:0;
      color:var(--muted);
      font-size:14.5px;
    }

    /* –ú–∏–≥–∞—é—á–∞ –∑–µ–ª–µ–Ω–∞ —Ç–æ—á–∫–∞ */
    .dot{
      position:absolute; top:14px; right:16px;
      width:10px; height:10px; border-radius:50%;
      background:var(--accent);
      box-shadow:0 0 0 0 var(--accent-soft);
      animation:pulse 1.6s infinite;
    }
    @keyframes pulse{
      0%{box-shadow:0 0 0 0 var(--accent-soft); transform:scale(1)}
      70%{box-shadow:0 0 0 10px transparent; transform:scale(1.05)}
      100%{box-shadow:0 0 0 0 transparent; transform:scale(1)}
    }

    /* –°–µ–∫—Ü—ñ—ó */
    .section{margin-top:28px}
    .section h2{
      margin:0 0 12px; font-size:18px; font-weight:800; letter-spacing:.25px;
    }
    .note{color:var(--muted); font-size:14px; padding:10px 12px; background:#0d1420; border:1px dashed #1f2a3b; border-radius:12px}

    /* –°—ñ—Ç–∫–∞ –≤—ñ–¥–µ–æ */
    .grid{
      display:grid;
      grid-template-columns:repeat(5,1fr);
      gap:14px;
    }
    @media (max-width:1080px){ .grid{grid-template-columns:repeat(4,1fr)} }
    @media (max-width:860px){ .grid{grid-template-columns:repeat(3,1fr)} }
    @media (max-width:640px){ .grid{grid-template-columns:repeat(2,1fr)} }

    .card{
      background:var(--card);
      border-radius:14px;
      overflow:hidden;
      box-shadow:var(--shadow);
      transition:transform .2s ease, box-shadow .2s ease, background .2s ease;
      display:block;
    }
    .card:hover{ transform:translateY(-2px); background:var(--card-2) }
    .thumb{position:relative; aspect-ratio:16/9; overflow:hidden}
    .thumb img{width:100%; height:100%; object-fit:cover; background:#0d1420}
    .badge-yt{
      position:absolute; top:8px; left:8px;
      font-size:12px; padding:4px 8px; border-radius:999px;
      background:#0b1220cc; color:#fff; border:1px solid #22324a;
      backdrop-filter: blur(6px);
    }
    .caption{
      position:absolute; left:0; right:0; bottom:0;
      padding:10px 12px;
      background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(8,12,18,.85) 55%, rgba(8,12,18,.95) 100%);
      font-size:14px; line-height:1.25; max-height:3.1em; color:#e9f3ff;
    }

    /* SEO-–±–ª–æ–∫ + —á–∏–ø–∏ –≤–Ω–∏–∑—É */
    .seo{
      margin:28px 0 12px;
      color:var(--muted);
      font-size:15px;
    }
    .chips{
      display:flex; flex-wrap:wrap; gap:8px; margin:12px 0 8px;
    }
    .chip{
      padding:8px 10px; font-size:13px; color:var(--chip-text);
      background:var(--chip); border:1px solid #223047; border-radius:999px;
      transition:transform .15s ease, background .15s ease;
      user-select:none;
    }
    .chip:hover{ transform:translateY(-1px); background:#1e2a3d }

    footer{margin:28px 0 34px; color:#7f93aa; font-size:12.5px; text-align:center}
  </style>
</head>
<body>
  <div class="wrap">
    <header class="hero">
      <span class="dot" aria-hidden="true"></span>
      <h1>–°–ª—É—Ö–∞—Ç–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫—É –º—É–∑–∏–∫—É –æ–Ω–ª–∞–π–Ω ‚Äî —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –ø—ñ—Å–Ω—ñ —Ç–∞ —Ö—ñ—Ç–∏</h1>
      <p class="lead">–ù–∞–π–∫—Ä–∞—â—ñ —Å—É—á–∞—Å–Ω—ñ –ø—ñ—Å–Ω—ñ 2025, –¥–æ–±—ñ—Ä–∫–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ—é, —Ç–∞–Ω—Ü—ñ–≤ —ñ –≤—ñ–¥–ø–æ—á–∏–Ω–∫—É. –°–∞–π—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ç—è–≥—É—î –æ—Å—Ç–∞–Ω–Ω—ñ –≤—ñ–¥–µ–æ –∑ –Ω–∞—à–∏—Ö –∫–∞–Ω–∞–ª—ñ–≤ —ñ —â–æ–¥–Ω—è –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è.</p>
    </header>

    <!-- –û—Å—Ç–∞–Ω–Ω—ñ –∑ –∫–∞–Ω–∞–ª—ñ–≤ -->
    <section class="section">
      <h2>–û—Å—Ç–∞–Ω–Ω—ñ –≤—ñ–¥–µ–æ –∑ –∫–∞–Ω–∞–ª—ñ–≤</h2>
      <div id="auto-grid" class="grid">
        <div class="note">–ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ —Å–≤—ñ–∂—ñ —Ä–µ–ª—ñ–∑–∏‚Ä¶</div>
      </div>
    </section>

    <!-- –î–æ–±—ñ—Ä–∫–∏ (–ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ —Ö—ñ—Ç–∏) -->
    <section class="section">
      <h2>–î–æ–±—ñ—Ä–∫–∏ ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ —Ö—ñ—Ç–∏</h2>
      <div id="curated-grid" class="grid">
        <div class="note">–ì–æ—Ç—É—î–º–æ –¥–æ–±—ñ—Ä–∫–∏‚Ä¶</div>
      </div>
    </section>

    <!-- SEO-—Ç–µ–∫—Å—Ç -->
    <section class="seo">
      <h2 style="font-size:16px;margin:0 0 8px;font-weight:800;">–£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –ø—ñ—Å–Ω—ñ –æ–Ω–ª–∞–π–Ω ‚Äî —Å—É—á–∞—Å–Ω—ñ —Ö—ñ—Ç–∏ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ</h2>
      –ù–∞ <strong>ukr-hits.online</strong> –≤–∏ –∑–Ω–∞–π–¥–µ—Ç–µ –Ω–∞–π–∫—Ä–∞—â—ñ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ —Ö—ñ—Ç–∏ 2025, –¥–æ–±—ñ—Ä–∫–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ—é, —Ç–∞–Ω—Ü—ñ–≤ —ñ –≤—ñ–¥–ø–æ—á–∏–Ω–∫—É. 
      –°–∞–π—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ç—è–≥—É—î –æ—Å—Ç–∞–Ω–Ω—ñ –≤—ñ–¥–µ–æ –∑ –∫–∞–Ω–∞–ª—ñ–≤ <strong>GoldenWaveUA</strong>, ¬´–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º—É–∑–∏–∫–∞ –æ–Ω–ª–∞–π–Ω¬ª —Ç–∞ ¬´–£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –ø—ñ—Å–Ω—ñ 2025¬ª, —â–æ–± –∑–∞–≤–∂–¥–∏ –±—É—Ç–∏ –≤ –Ω–æ–≤–∏–Ω–∞—Ö.
      –ù–∞—Ç–∏—Å–∫–∞–π—Ç–µ –Ω–∞ –±—É–¥—å-—è–∫—É –∫–∞—Ä—Ç–∫—É ‚Äî –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è —Ä–æ–ª–∏–∫ –Ω–∞ YouTube. –î—è–∫—É—î–º–æ, —â–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç–µ —É–∫—Ä–∞—ó–Ω—Å—å–∫—É –º—É–∑–∏–∫—É! üá∫üá¶
    </section>

    <!-- —á–∏–ø–∏ –≤–Ω–∏–∑—É (—â–æ–± –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É –Ω–µ –∑–∞–≤–∞–∂–∞–ª–∏) -->
    <div class="chips" aria-label="–ü–æ–ø—É–ª—è—Ä–Ω—ñ –∑–∞–ø–∏—Ç–∏">
      <span class="chip">—É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –ø—ñ—Å–Ω—ñ</span><span class="chip">—Å—É—á–∞—Å–Ω—ñ —Ö—ñ—Ç–∏</span><span class="chip">—É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º—É–∑–∏–∫–∞ –æ–Ω–ª–∞–π–Ω</span>
      <span class="chip">–ø—ñ—Å–Ω—ñ –¥–ª—è —Ç–∞–Ω—Ü—ñ–≤</span><span class="chip">–¥–ª—è –∞–≤—Ç–æ</span><span class="chip">—Ä–æ–º–∞–Ω—Ç–∏—á–Ω—ñ</span>
      <span class="chip">—Ç–∞–Ω—Ü—é–≤–∞–ª—å–Ω—ñ —Ç—Ä–µ–∫–∏</span><span class="chip">–ª—ñ—Ç–Ω—ñ —Ö—ñ—Ç–∏</span><span class="chip">–Ω–æ–≤–∏–Ω–∫–∏ 2025</span>
      <span class="chip">–∫—Ä–∞—â—ñ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –ø—ñ—Å–Ω—ñ</span><span class="chip">—É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –ø–æ–ø-–º—É–∑–∏–∫–∞</span><span class="chip">–¥–æ–±—ñ—Ä–∫–∏ –º—É–∑–∏–∫–∏</span>
      <span class="chip">–Ω—ñ—á–Ω—ñ —Ç—Ä–µ–∫–∏</span><span class="chip">–¥–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω—å</span><span class="chip">—Ä–µ–ª–∞–∫—Å</span>
    </div>

    <footer>¬© ukr-hits.online ‚Äî —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º—É–∑–∏–∫–∞ –æ–Ω–ª–∞–π–Ω.</footer>
  </div>

  <!-- –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ –¥–ª—è —Å–∞–π—Ç—É -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "name":"Ukr Hits Online",
    "url":"https://ukr-hits.online/",
    "potentialAction":{
      "@type":"SearchAction",
      "target":"https://ukr-hits.online/?q={search_term_string}",
      "query-input":"required name=search_term_string"
    }
  }
  </script>

  <script>
  /* ===================== –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø ===================== */
  const CHANNELS = [
    { id: "UCXN8Ibh2QGNwZSwFJH423aw", name: "GoldenWaveUA" },
    { id: "UCXRzPkWX59hYAWgwgmpzc7w", name: "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º—É–∑–∏–∫–∞ –æ–Ω–ª–∞–π–Ω" },
    { id: "UCA_3UxgDSooR8btEvbtFe1w", name: "–£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –ø—ñ—Å–Ω—ñ 2025" },
  ];
  const AUTO_LIMIT = 18;                 // —Å–∫—ñ–ª—å–∫–∏ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –≤—ñ–¥–µ–æ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏
  const AUTO_GRID_ID = "auto-grid";
  const CURATED_GRID_ID = "curated-grid";

  // –†—É—á–Ω—ñ –¥–æ–±—ñ—Ä–∫–∏ (—É—Å—ñ, —â–æ —Ç–∏ –Ω–∞–¥—ñ—Å–ª–∞–≤):
  const CURATED_LINKS = [
    "https://www.youtube.com/watch?v=m27g1w60Hak","https://www.youtube.com/watch?v=eUrTzCTbqRo","https://www.youtube.com/watch?v=-2lPBoh3Hbk","https://www.youtube.com/watch?v=9xhB6RUcQv4","https://www.youtube.com/watch?v=V_7EhliRapU","https://www.youtube.com/watch?v=v5ZFj7fXSjk","https://www.youtube.com/watch?v=4vYgNVkFApg","https://www.youtube.com/watch?v=-BD-q4uj4A8","https://www.youtube.com/watch?v=H-Hx-e0EpTQ","https://www.youtube.com/watch?v=iu7l0CmFjHk","https://www.youtube.com/watch?v=1DvyyG11HZw","https://www.youtube.com/watch?v=h8rr3QvUwJM","https://www.youtube.com/watch?v=Hc9GSnnl9s4","https://www.youtube.com/watch?v=gt7WnwSce1Y",
    "https://www.youtube.com/watch?v=t2KumAVfaXI","https://www.youtube.com/watch?v=o377aoMBGnY","https://www.youtube.com/watch?v=Kp8Xjoj2yts","https://www.youtube.com/watch?v=VufBPLckZi8","https://www.youtube.com/watch?v=L8xtCLF_RGw","https://www.youtube.com/watch?v=d7D5IvF5rqg","https://www.youtube.com/watch?v=x2XuttUjVRE","https://www.youtube.com/watch?v=xcqsS73I_U4","https://www.youtube.com/watch?v=dvqiGW2tk2M","https://www.youtube.com/watch?v=FA438YuebB8","https://www.youtube.com/watch?v=KSyh6YbFk9k","https://www.youtube.com/watch?v=6LLHpfYsroo","https://www.youtube.com/watch?v=dj5f7HWp3e8","https://www.youtube.com/watch?v=2MK2yN5Ri3E","https://www.youtube.com/watch?v=VW8mofFsEVA",
    "https://www.youtube.com/watch?v=iuMZRJMOvRw","https://www.youtube.com/watch?v=LqKNrpxp0bI","https://www.youtube.com/watch?v=M9Nv8BRMjNM","https://www.youtube.com/watch?v=RTIFFvPRR6s","https://www.youtube.com/watch?v=SKvfqHj3gXk","https://www.youtube.com/watch?v=22rx7g-mQmY","https://www.youtube.com/watch?v=VMvpFNtLBQA","https://www.youtube.com/watch?v=-gARpYK2DY4","https://www.youtube.com/watch?v=BR9DO4HQkXM","https://www.youtube.com/watch?v=hysuiarW09c","https://www.youtube.com/watch?v=O2J_c13_CQY","https://www.youtube.com/watch?v=06qgtig_XWk","https://www.youtube.com/watch?v=941lH_Kh-a8","https://www.youtube.com/watch?v=tCEe5i9fuk4","https://www.youtube.com/watch?v=T5pBELEktAA",
  ];

  /* ===================== –î–û–ü–û–ú–û–ñ–ù–Ü ===================== */
  const $ = (s, r = document) => r.querySelector(s);
  function shuffleInPlace(a){for(let i=a.length-1;i>0;i--){const j=(Math.random()*(i+1))|0;[a[i],a[j]]=[a[j],a[i]]}return a}
  function truncate(s,m=80){return s && s.length>m ? s.slice(0,m-1)+"‚Ä¶" : s}
  function getVideoIdFromLink(h){try{const u=new URL(h);if(u.searchParams.get("v"))return u.searchParams.get("v");const p=u.pathname.split("/");return p.pop()||p.pop()}catch{return null}}
  const thumbHQ = (id)=>`https://i.ytimg.com/vi/${id}/hqdefault.jpg`;
  const thumbMAX = (id)=>`https://i.ytimg.com/vi/${id}/maxresdefault.jpg`;

  // –õ—ñ–Ω–∏–≤–∞ –ø—ñ–¥–º—ñ–Ω–∞ HQ -> MAX, –∫–æ–ª–∏ –∫–∞—Ä—Ç–∫–∞ —É –≤–∏–¥–∏–º—ñ–π –∑–æ–Ω—ñ
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{
      if(!e.isIntersecting) return;
      const img=e.target;
      const max=img.dataset.maxsrc;
      if(max){ img.src=max; delete img.dataset.maxsrc; }
      io.unobserve(img);
    });
  },{rootMargin:"120px"});

  function createCard(item){
    const a=document.createElement("a");
    a.className="card video-card";
    a.href=item.link; a.target="_blank"; a.rel="noopener noreferrer";
    a.title=item.title; a.setAttribute("aria-label",item.title);

    const fig=document.createElement("figure"); fig.className="thumb";
    const img=document.createElement("img");
    img.loading="lazy"; img.decoding="async"; img.alt=item.title||"YouTube";
    img.src = thumbHQ(item.videoId);
    img.dataset.maxsrc = thumbMAX(item.videoId);
    io.observe(img);

    const badge=document.createElement("span"); badge.className="badge-yt"; badge.textContent="YouTube";
    const cap=document.createElement("figcaption"); cap.className="caption"; cap.textContent=truncate(item.title, 70);

    fig.append(img,badge,cap); a.append(fig);
    return a;
  }
  function renderGrid(items, gridId){
    const grid=document.getElementById(gridId);
    grid.innerHTML=""; items.forEach(v=>grid.appendChild(createCard(v)));
  }
  function injectItemListJSONLD(items){
    const data={"@context":"https://schema.org","@type":"ItemList","itemListElement":items.map((v,i)=>({"@type":"ListItem","position":i+1,"url":v.link,"name":v.title,"datePublished":v.published||""}))};
    const s=document.createElement("script"); s.type="application/ld+json"; s.textContent=JSON.stringify(data); document.head.appendChild(s);
  }

  // –ö–µ—à —É localStorage
  function cacheGet(key,maxAgeMs){
    try{
      const raw=localStorage.getItem(key); if(!raw) return null;
      const {ts,data}=JSON.parse(raw); if(Date.now()-ts>maxAgeMs) return null;
      return data;
    }catch{return null}
  }
  function cacheSet(key,data){ try{localStorage.setItem(key, JSON.stringify({ts:Date.now(),data}))}catch{} }

  // RSS YouTube
  async function fetchChannelRSS(channelId){
    const url=`https://www.youtube.com/feeds/videos.xml?channel_id=${channelId}`;
    const res=await fetch(url,{headers:{'Accept':'application/xml'}});
    const xml=new DOMParser().parseFromString(await res.text(),"application/xml");
    const entries=[...xml.querySelectorAll("entry")];
    return entries.map(e=>{
      const title=e.querySelector("title")?.textContent?.trim()||"YouTube video";
      const link =e.querySelector("link")?.getAttribute("href");
      const published=e.querySelector("published")?.textContent||"";
      const vid=e.querySelector("yt\\:videoId, videoId")?.textContent||getVideoIdFromLink(link);
      return {title,link,published,videoId:vid};
    }).filter(v=>v.link && v.videoId);
  }

  // –û–±–º–µ–∂–µ–Ω–Ω—è –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ—Å—Ç—ñ –¥–ª—è oEmbed (—â–æ–± –Ω–µ ¬´–∑–∞—Ö–ª–∏–Ω—É–ª–æ—Å—å¬ª)
  async function mapLimit(arr,limit,iter){
    const out=[]; let i=0; const pool=new Set();
    const run=async(idx)=>{const p=iter(arr[idx]).then(r=>out[idx]=r).finally(()=>pool.delete(p)); pool.add(p); return p;}
    while(i<arr.length){ if(pool.size>=limit) await Promise.race(pool); await run(i++) }
    await Promise.all(pool); return out;
  }
  async function fetchOEmbedTitle(url){
    try{
      const o=`https://www.youtube.com/oembed?url=${encodeURIComponent(url)}&format=json`;
      const r=await fetch(o,{headers:{'Accept':'application/json'}});
      if(!r.ok) throw 0;
      const j=await r.json();
      return j.title || "YouTube video";
    }catch{ return "YouTube video" }
  }

  async function buildCurated(){
    const links = Array.from(new Set(CURATED_LINKS));     // —É–Ω—ñ–∫–∞–ª—å–Ω—ñ
    const cacheKey="curatedTitles:v1";
    let cached=cacheGet(cacheKey, 6*60*60*1000);          // 6 –≥–æ–¥–∏–Ω
    if(!cached || cached.length!==links.length){
      const titled = await mapLimit(links, 4, async (link)=>({ link, title: await fetchOEmbedTitle(link) }));
      cached = titled;
      cacheSet(cacheKey, cached);
    }
    const items = cached.map(({link,title})=>({ link, title, videoId:getVideoIdFromLink(link) })).filter(x=>x.videoId);
    shuffleInPlace(items);
    renderGrid(items, CURATED_GRID_ID);
  }

  // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∞–≤—Ç–æ—Å—Ç—Ä—ñ—á–∫–∏ (–∫–µ—à 10 —Ö–≤–∏–ª–∏–Ω)
  (async function initAuto(){
    try{
      const cacheKey="autoFeed:v1";
      let data = cacheGet(cacheKey, 10*60*1000);
      if(!data){
        const all=(await Promise.all(CHANNELS.map(c=>fetchChannelRSS(c.id)))).flat();
        // De-dup + —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –¥–∞—Ç–æ—é
        const seen=new Set();
        const dedup=all.filter(v=> (v.videoId && !seen.has(v.videoId)) ? (seen.add(v.videoId),true):false);
        dedup.sort((a,b)=> new Date(b.published)-new Date(a.published));
        data = dedup.slice(0, AUTO_LIMIT);
        cacheSet(cacheKey, data);
      }
      const list = shuffleInPlace(data.slice());   // –ª–µ–≥–∫–µ –ø–µ—Ä–µ–º—ñ—à—É–≤–∞–Ω–Ω—è –Ω–∞ –∫–æ–∂–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
      renderGrid(list, AUTO_GRID_ID);
      injectItemListJSONLD(list);
    }catch(err){
      console.error(err);
      const grid=document.getElementById(AUTO_GRID_ID);
      if(grid){ grid.innerHTML = `<div class="note">–ù–µ–º–∞—î –Ω–æ–≤–∏—Ö –≤—ñ–¥–µ–æ. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.</div>`; }
    }
  })();

  buildCurated();
  </script>
</body>
</html>
