<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Canonical + hreflang -->
  <link rel="canonical" href="https://ukr-hits.online/">
  <link rel="alternate" hreflang="uk" href="https://ukr-hits.online/?lang=uk">
  <link rel="alternate" hreflang="ru" href="https://ukr-hits.online/?lang=ru">
  <link rel="alternate" hreflang="en" href="https://ukr-hits.online/?lang=en">
  <link rel="alternate" hreflang="x-default" href="https://ukr-hits.online/">

  <!-- Base SEO (переписывается скриптом при переключении языка) -->
  <title>Слухати українську музику онлайн — українські пісні та хіти</title>
  <meta name="description" content="Українські пісні онлайн: сучасні хіти, добірки для настрою та танців. Останні відео з наших каналів.">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Слухати українську музику онлайн — українські пісні та хіти">
  <meta property="og:description" content="Сучасні українські хіти, добірки для настрою та танців. Останні відео з YouTube-каналів.">
  <meta property="og:url" content="https://ukr-hits.online/">
  <meta property="og:image" content="https://i.ytimg.com/vi/iuMZRJMOvRw/hqdefault.jpg">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Preconnects -->
  <link rel="preconnect" href="https://i.ytimg.com" crossorigin>
  <link rel="preconnect" href="https://www.youtube.com" crossorigin>
  <link rel="dns-prefetch" href="//i.ytimg.com">
  <link rel="dns-prefetch" href="//www.youtube.com">

  <!-- GA4 (замени G-XXXXXXX на свой ID при необходимости) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXX', { 'anonymize_ip': true });
  </script>

  <style>
    :root{
      --bg:#0d1117; --panel:#111827; --muted:#9aa4b2; --text:#e5e7eb;
      --chip:#1f2937; --card:#10141b; --card-hover:#131a22; --ring: 0 0 0 2px rgb(59 130 246 / .35);
      --radius:16px; --brand:#2563eb; --brand2:#7c3aed; --yt:#e62117; --yt2:#ff3b30; --dot:#39ff14;
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue","Noto Sans",sans-serif;}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1200px;margin:0 auto;padding:24px}
    header{
      background: radial-gradient(120% 150% at 10% 0%, #182233 0%, #0f1729 50%, #0b1020 100%);
      border-radius: var(--radius);
      padding: 20px 16px; margin-bottom:20px; border:1px solid #1f2937; box-shadow: 0 10px 30px rgba(0,0,0,.25) inset;
      position:relative;
    }
    /* мигающая зелёная точка */
    .dot{
      position:absolute; top:12px; right:12px; width:12px; height:12px; border-radius:50%;
      background:var(--dot); box-shadow:0 0 10px var(--dot), 0 0 20px var(--dot);
      animation: blink 1s infinite ease-in-out;
    }
    @keyframes blink{
      0%,100%{ opacity: .35; transform: scale(.9); }
      50%{ opacity: 1; transform: scale(1.15); }
    }

    .toprow{display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:wrap}
    .title{font-weight:700;font-size:22px;margin:0}
    .lang{display:flex;gap:6px;align-items:center}
    .lang button{
      background:var(--chip); color:#cbd5e1; border:1px solid #273246; padding:6px 10px; border-radius:999px; cursor:pointer; font-weight:600
    }
    .lang button.active{background:linear-gradient(90deg,var(--brand),var(--brand2)); border:none; color:#fff}
    .actions{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:999px;background:#0b1220;border:1px solid #1f2937}
    .btn:hover{outline:var(--ring);background:#0f1628}
    /* красная плашка YouTube */
    .btn--yt{background:linear-gradient(90deg,var(--yt),var(--yt2));border:none;color:#fff;font-weight:700}
    .btn--yt:hover{filter:brightness(1.05)}
    .note{color:var(--muted);font-size:14px;margin-top:8px}

    section{margin-top:26px}
    .sec-title{font-size:18px;font-weight:700;margin:0 0 12px}
    .grid{--col: 5; display:grid; gap:14px; grid-template-columns: repeat(var(--col), 1fr)}
    @media (max-width:1100px){ .grid{--col:4} }
    @media (max-width:900px){ .grid{--col:3} }
    @media (max-width:680px){ .grid{--col:2} }
    @media (max-width:420px){ .grid{--col:1} }

    .card{display:block;background:var(--card);border:1px solid #1c2432;border-radius:14px;overflow:hidden;transition:transform .18s ease, background .18s ease, box-shadow .18s ease;box-shadow: 0 1px 0 rgba(255,255,255,.02), 0 8px 18px rgba(0,0,0,.35);position:relative}
    .card:hover{transform:translateY(-2px);background:var(--card-hover)}
    .thumb{width:100%;aspect-ratio:16/9;display:block;object-fit:cover;background:#0b0f16}
    .meta{padding:10px 12px 12px}
    .title-sm{font-size:14.5px;font-weight:600;color:#e8eef7;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
    .yt{position:absolute;top:8px;left:8px;background:rgba(15,23,42,.75);border:1px solid #243047;border-radius:10px;padding:4px 8px;font-size:12px}
    .skeleton{border-radius:12px;height:210px;background:linear-gradient(90deg,#0d1320 25%,#0f1628 37%,#0d1320 63%);background-size:400% 100%;animation:sh 1.2s ease infinite}
    @keyframes sh{0%{background-position:100% 0}100%{background-position:0 0}}

    .seo{margin-top:32px;color:#cbd5e1}
    .seo h2{font-size:18px;margin:0 0 10px}
    .seo p{margin:0 0 8px}

    /* чип-метки теперь внизу */
    .chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:16px}
    .chip{background:var(--chip);border:1px solid #253046;color:#cbd5e1;padding:6px 10px;border-radius:999px;font-size:13px}

    footer{margin:26px 0 14px;color:#9aa4b2;font-size:13px;text-align:center}
  </style>

  <!-- JSON-LD (Organization) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"GoldenWaveUA",
    "url":"https://ukr-hits.online/",
    "sameAs":[
      "https://www.youtube.com/channel/UCXN8Ibh2QGNwZSwFJH423aw",
      "https://www.youtube.com/channel/UCXRzPkWX59hYAWgwgmpzc7w",
      "https://www.youtube.com/channel/UCA_3UxgDSooR8btEvbtFe1w"
    ]
  }
  </script>
</head>
<body>
  <div class="wrap">
    <header>
      <span class="dot" aria-hidden="true"></span>
      <div class="toprow">
        <h1 class="title" id="t_title">Слухати українську музику онлайн — українські пісні та хіти</h1>
        <div class="lang" role="tablist" aria-label="Language">
          <button id="l_uk" class="active" data-lang="uk" role="tab">UA</button>
          <button id="l_ru" data-lang="ru" role="tab">RU</button>
          <button id="l_en" data-lang="en" role="tab">EN</button>
        </div>
      </div>

      <div class="actions">
        <!-- красная плашка YouTube -->
        <a class="btn btn--yt" id="btn_sub" href="https://www.youtube.com/channel/UCXN8Ibh2QGNwZSwFJH423aw?sub_confirmation=1" target="_blank" rel="noopener" data-gtag="subscribe_click">
          Підписатися на YouTube
        </a>
        <a class="btn" id="btn_open" href="https://www.youtube.com/@GoldenWaveUA" target="_blank" rel="noopener" data-gtag="open_channel">Відкрити канал</a>
      </div>

      <div class="note" id="t_note">Підписуйтесь, коментуйте, ставте — це підтримує українську музику. Дякуємо!</div>
    </header>

    <!-- ОСТАННІ ВІДЕО -->
    <section>
      <h2 class="sec-title" id="t_latest">Останні відео з каналів</h2>
      <div id="latestGrid" class="grid" aria-live="polite">
        <!-- скелетоны на время загрузки -->
        <div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div>
        <div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div><div class="skeleton"></div>
      </div>
    </section>

    <!-- ДОБІРКИ -->
    <section>
      <h2 class="sec-title" id="t_curated">Добірки — перевірені хіти</h2>
      <div id="curatedGrid" class="grid"></div>
    </section>

    <!-- SEO-текст -->
    <section class="seo">
      <h2 id="seo_h">Українські пісні онлайн — сучасні хіти безкоштовно</h2>
      <p id="seo_p1">На <strong>ukr-hits.online</strong> ви знайдете найкращі <em>українські пісні 2025</em>, добірки для настрою, танців і відпочинку. Сайт автоматично підтягує останні відео з каналів <strong>GoldenWaveUA</strong>, <strong>Українська музика онлайн</strong> та <strong>Українські пісні 2025</strong>, щоб ви завжди були з новинками.</p>
      <p id="seo_p2">Натискайте на будь-яку картку — відкриється ролик на YouTube. Підписуйтесь, щоб підтримати українських артистів і не пропускати свіжі <em>українські хіти</em>.</p>
    </section>

    <!-- ЧИП-МЕТКИ (перенесены в самый низ) -->
    <section id="chipsSection">
      <div class="chips" id="chips_bottom"></div>
    </section>

    <footer>© ukr-hits.online — українська музика онлайн.</footer>
  </div>

  <script>
    /* ========= Настройки ========= */
    const CHANNELS = [
      { id: 'UCXN8Ibh2QGNwZSwFJH423aw', name: 'GoldenWaveUA' },
      { id: 'UCXRzPkWX59hYAWgwgmpzc7w', name: 'Українська музика онлайн' },
      { id: 'UCA_3UxgDSooR8btEvbtFe1w', name: 'Українські пісні 2025' }
    ];
    const CURATED_IDS = [
      'm27g1w60Hak','eUrTzCTbqRo','-2lPBoh3Hbk','9xhB6RUcQv4','V_7EhliRapU','v5ZFj7fXSjk','4vYgNVkFApg','-BD-q4uj4A8','H-Hx-e0EpTQ','iu7l0CmFjHk','1DvyyG11HZw','h8rr3QvUwJM','Hc9GSnnl9s4','gt7WnwSce1Y',
      't2KumAVfaXI','o377aoMBGnY','Kp8Xjoj2yts','VufBPLckZi8','L8xtCLF_RGw','d7D5IvF5rqg','x2XuttUjVRE','xcqsS73I_U4','dvqiGW2tk2M','FA438YuebB8','KSyh6YbFk9k','6LLHpfYsroo','dj5f7HWp3e8','2MK2yN5Ri3E','VW8mofFsEVA',
      'iuMZRJMOvRw','LqKNrpxp0bI','M9Nv8BRMjNM','RTIFFvPRR6s','SKvfqHj3gXk','22rx7g-mQmY','VMvpFNtLBQA','-gARpYK2DY4','BR9DO4HQkXM','hysuiarW09c','O2J_c13_CQY','06qgtig_XWk','941lH_Kh-a8','tCEe5i9fuk4','T5pBELEktAA'
    ];
    const LATEST_LIMIT = 24;
    const CACHE_TTL_MS = 30*60*1000;

    /* ========= i18n ========= */
    const i18n = {
      uk: {
        title: "Слухати українську музику онлайн — українські пісні та хіти",
        desc: "Українські пісні онлайн: сучасні хіти, добірки для настрою та танців. Останні відео з наших каналів.",
        h1: "Слухати українську музику онлайн — українські пісні та хіти",
        latest: "Останні відео з каналів",
        curated: "Добірки — перевірені хіти",
        note: "Підписуйтесь, коментуйте, ставте — це підтримує українську музику. Дякуємо!",
        btnSub: "Підписатися на YouTube",
        btnOpen: "Відкрити канал",
        seo_h: "Українські пісні онлайн — сучасні хіти безкоштовно",
        seo_p1: "На ukr-hits.online ви знайдете найкращі українські пісні 2025, добірки для настрою, танців і відпочинку. Сайт автоматично підтягує останні відео з каналів GoldenWaveUA, Українська музика онлайн та Українські пісні 2025, щоб ви завжди були з новинками.",
        seo_p2: "Натискайте на будь-яку картку — відкриється ролик на YouTube. Підписуйтесь, щоб підтримати українських артистів і не пропускати свіжі українські хіти.",
        chips: [
          "українські пісні","слухати музику онлайн","сучасні хіти","нові українські пісні","плейлист українські хіти",
          "музика для танців","музика для відпочинку","популярні треки","українська поп-музика","енергійні пісні",
          "повільні пісні","романтичні хіти","патріотичні пісні","для авто","для тренування",
          "клубні українські","осінні хіти","літні хіти","хіти 2000-х","кращі пісні тижня",
          "новинки дня","плейлисти","тренди YouTube","українська електроніка","танцювальні треки",
          "для вечірки","м’яка музика","релакс плейлист"
        ]
      },
      ru: {
        title: "Слушать украинскую музыку онлайн — украинские песни и хиты",
        desc: "Украинские песни онлайн: современные хиты, подборки для настроения и танцев. Последние видео с наших каналов.",
        h1: "Слушать украинскую музыку онлайн — украинские песни и хиты",
        latest: "Последние видео с каналов",
        curated: "Подборки — проверенные хиты",
        note: "Подписывайтесь, комментируйте, ставьте — это поддерживает украинскую музыку. Спасибо!",
        btnSub: "Подписаться на YouTube",
        btnOpen: "Открыть канал",
        seo_h: "Украинские песни онлайн — современные хиты бесплатно",
        seo_p1: "На ukr-hits.online вы найдёте лучшие украинские песни 2025, подборки для настроения, танцев и отдыха. Сайт автоматически подтягивает последние видео с каналов GoldenWaveUA, Украинская музыка онлайн и Украинские песни 2025, чтобы вы были в курсе новинок.",
        seo_p2: "Нажимайте на любую карточку — ролик откроется на YouTube. Подписывайтесь, чтобы поддержать украинских артистов и не пропускать новые хиты.",
        chips: [
          "украинские песни","слушать музыку онлайн","современные хиты","новые украинские песни","плейлист хитов",
          "музыка для танцев","музыка для отдыха","популярные треки","украинская поп-музыка","энергичные песни",
          "медленные песни","романтические хиты","патриотические песни","для авто","для тренировки",
          "клубные треки","осенние хиты","летние хиты","хиты 2000-х","лучшие песни недели",
          "новинки дня","плейлисты","тренды YouTube","украинская электроника","танцевальные треки",
          "для вечеринки","мягкая музыка","релакс плейлист"
        ]
      },
      en: {
        title: "Listen to Ukrainian music online — songs & hits",
        desc: "Ukrainian songs online: modern hits, mood & dance playlists. Latest videos from our YouTube channels.",
        h1: "Listen to Ukrainian music online — songs & hits",
        latest: "Latest videos from our channels",
        curated: "Curated — proven hits",
        note: "Subscribe, comment, leave — it supports Ukrainian music. Thank you!",
        btnSub: "Subscribe on YouTube",
        btnOpen: "Open channel",
        seo_h: "Ukrainian songs online — modern hits for free",
        seo_p1: "On ukr-hits.online you’ll find the best Ukrainian songs of 2025, playlists for mood, dance and relax. The site automatically pulls the latest videos from GoldenWaveUA, Ukrainian Music Online and Ukrainian Songs 2025 so you stay updated.",
        seo_p2: "Tap any card to open the video on YouTube. Subscribe to support Ukrainian artists and never miss fresh hits.",
        chips: [
          "Ukrainian songs","listen music online","modern hits","new Ukrainian songs","hits playlist",
          "music for dancing","relax music","popular tracks","Ukrainian pop","energetic songs",
          "slow songs","romantic hits","patriotic songs","for car","for workout",
          "club tracks","autumn hits","summer hits","2000s hits","best of the week",
          "new releases","playlists","YouTube trends","Ukrainian electronic","dance tracks",
          "party music","soft music","relax playlist"
        ]
      }
    };

    function setMeta(attr, key, value){
      let el = document.querySelector(`meta[${attr}="${key}"]`);
      if (!el){
        el = document.createElement('meta');
        el.setAttribute(attr, key);
        document.head.appendChild(el);
      }
      el.setAttribute('content', value);
    }

    function setHrefLang(code){
      const link = document.querySelector(`link[rel="alternate"][hreflang="${code}"]`);
      if (!link) return;
      const u = new URL(location.href);
      u.searchParams.set('lang', code);
      link.href = u.origin + u.pathname + '?lang=' + code;
    }

    function setLang(lang){
      const dict = i18n[lang] || i18n.uk;
      document.getElementById('t_title').textContent = dict.h1;
      document.getElementById('t_latest').textContent = dict.latest;
      document.getElementById('t_curated').textContent = dict.curated;
      document.getElementById('t_note').textContent = dict.note;
      document.getElementById('seo_h').textContent = dict.seo_h;
      document.getElementById('seo_p1').textContent = dict.seo_p1;
      document.getElementById('seo_p2').textContent = dict.seo_p2;

      const btnSub = document.getElementById('btn_sub'); btnSub.textContent = dict.btnSub;
      const btnOpen = document.getElementById('btn_open'); btnOpen.textContent = dict.btnOpen;

      // нижние чип-метки
      const chipsBottom = document.getElementById('chips_bottom');
      chipsBottom.innerHTML = dict.chips.map(c=>`<a class="chip" href="#latest">${c}</a>`).join('');

      // мета
      document.title = dict.title;
      setMeta('name','description', dict.desc);
      setMeta('property','og:title', dict.title);
      setMeta('property','og:description', dict.desc);
      setMeta('name','twitter:title', dict.title);
      setMeta('name','twitter:description', dict.desc);

      // активность кнопок
      ['uk','ru','en'].forEach(code=>{
        const b = document.getElementById('l_'+code);
        if (b) b.classList.toggle('active', code===lang);
      });

      // URL-параметр и hreflang
      const url = new URL(location.href);
      url.searchParams.set('lang', lang);
      history.replaceState({}, '', url.toString());
      setHrefLang('uk'); setHrefLang('ru'); setHrefLang('en');

      // GA4
      if (typeof gtag==='function') gtag('event','lang_change',{event_category:'i18n',event_label:lang});
      try{ localStorage.setItem('lang', lang); }catch(e){}
    }

    // По твоей просьбе: по умолчанию ВСЕГДА украинский (игнорируем браузер)
    function detectLangDefaultUA(){
      const url = new URL(location.href);
      const q = url.searchParams.get('lang');
      if (q && i18n[q]) return q;
      return 'uk';
    }

    document.addEventListener('click', (e)=>{
      const b = e.target.closest('[data-lang]');
      if (!b) return;
      setLang(b.dataset.lang);
    });

    /* ========= Карточки / загрузка видео ========= */
    const proxies = [
      id => `https://r.jina.ai/http://www.youtube.com/feeds/videos.xml?channel_id=${id}`,
      id => `https://r.jina.ai/https://www.youtube.com/feeds/videos.xml?channel_id=${id}`,
      id => `https://api.allorigins.win/raw?url=${encodeURIComponent('https://www.youtube.com/feeds/videos.xml?channel_id='+id)}`
    ];
    const latestGrid = document.getElementById('latestGrid');
    const curatedGrid = document.getElementById('curatedGrid');

    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]]=[arr[j],arr[i]];
      }
      return arr;
    }

    function card({id,title}){
      const href = `https://www.youtube.com/watch?v=${id}`;
      const img  = `https://i.ytimg.com/vi/${id}/hqdefault.jpg`;
      return `
        <a class="card" href="${href}" target="_blank" rel="noopener" data-gtag="video_click" data-label="${id}">
          <span class="yt">YouTube</span>
          <img class="thumb" src="${img}" alt="${title}" loading="lazy" referrerpolicy="no-referrer">
          <div class="meta"><div class="title-sm">${title}</div></div>
        </a>`;
    }

    function trackClicks(){
      document.addEventListener('click', (e)=>{
        const el = e.target.closest('[data-gtag]');
        if (!el) return;
        const name = el.dataset.gtag;
        const label = el.dataset.label || (el.href || '');
        if (typeof gtag==='function') gtag('event', name, {event_category:'ui', event_label: label});
      });
    }

    function cacheGet(key){
      try{
        const raw=localStorage.getItem(key);
        if(!raw) return null;
        const {t,v}=JSON.parse(raw);
        if(Date.now()-t > CACHE_TTL_MS) return null;
        return v;
      }catch(e){return null}
    }
    function cacheSet(key,val){ try{localStorage.setItem(key,JSON.stringify({t:Date.now(),v:val}))}catch(e){} }

    async function fetchFeed(channelId){
      let text=null;
      for(const p of proxies){
        try{
          const res = await fetch(p(channelId), {cache:'no-store'});
          if(!res.ok) continue;
          const t = await res.text();
          if (t) { text=t; break; }
        }catch(_){}
      }
      if(!text) return [];
      const ids = [...text.matchAll(/<yt:videoId>([\w-]{11})<\/yt:videoId>/g)].map(m=>m[1]);
      const titles = [...text.matchAll(/<title>([^<]+)<\/title>/g)].map(m=>m[1]).slice(1);
      const out = [];
      for(let i=0;i<ids.length;i++){
        out.push({id:ids[i], title: titles[i] || 'YouTube video'});
      }
      return out;
    }

    async function loadLatest(){
      const cacheKey='latest_v3';
      const cached=cacheGet(cacheKey);
      if(cached) renderLatest(shuffle([...cached]));
      const all = (await Promise.all(CHANNELS.map(c=>fetchFeed(c.id)))).flat();
      const uniq = [...new Map(all.map(v=>[v.id,v])).values()];
      const mixed = shuffle(uniq).slice(0, LATEST_LIMIT);
      cacheSet(cacheKey, mixed);
      renderLatest(mixed);
    }

    function renderLatest(items){
      if(!items || !items.length){
        latestGrid.innerHTML = '<div style="color:#9aa4b2">Немає нових відео. Спробуйте пізніше.</div>';
        return;
      }
      latestGrid.innerHTML = items.map(card).join('');
    }

    function renderCurated(){
      const items = shuffle(CURATED_IDS).map(id => ({ id, title: 'Ukrainian hit' }));
      curatedGrid.innerHTML = items.map(card).join('');
    }

    // Инициализация
    const initLang = detectLangDefaultUA(); // всегда UA по умолчанию
    setLang(initLang);
    renderCurated();
    loadLatest();
    trackClicks();

    // Перемешать при возвращении на вкладку
    document.addEventListener('visibilitychange', () => {
      if(document.visibilityState === 'visible'){
        const c = cacheGet('latest_v3');
        if(c) renderLatest(shuffle([...c]));
      }
    });
  </script>
</body>
</html>
